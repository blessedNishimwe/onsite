{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T14:56:25.728Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T14:56:25.730Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:01:25.500Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T15:02:59.558Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T15:02:59.559Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T15:07:12.002Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T15:07:12.003Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:12:11.779Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T15:15:36.337Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T15:15:36.338Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T15:19:14.040Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T15:19:14.041Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:20:36.119Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T15:21:11.705Z"}
{"level":"debug","message":"Database health check passed","now":"2025-11-23T15:21:11.706Z","timestamp":"2025-11-23T15:21:11.707Z","version":"PostgreSQL 18.0 on x86_64-windows, compiled by msvc-19.44.35217, 64-bit"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:24:13.808Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:25:36.120Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:29:13.815Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:30:36.124Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:34:13.828Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:35:36.129Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:39:13.834Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:40:36.139Z"}
{"code":"NOT_FOUND","level":"error","message":"Error occurred: Route GET / not found","method":"GET","stack":"Error: Route GET / not found\n    at notFound (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\middleware\\errorHandler.middleware.js:153:17)\n    at Layer.handle [as handle_request] (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:286:9\n    at router.process_params (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at urlencodedParser (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\body-parser\\lib\\types\\urlencoded.js:94:7)\n    at Layer.handle [as handle_request] (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:286:9","statusCode":404,"timestamp":"2025-11-23T15:42:53.884Z","url":"/"}
{"code":"NOT_FOUND","level":"error","message":"Error occurred: Route GET /api/auth not found","method":"GET","stack":"Error: Route GET /api/auth not found\n    at notFound (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\middleware\\errorHandler.middleware.js:153:17)\n    at Layer.handle [as handle_request] (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:286:9\n    at router.process_params (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:646:15\n    at next (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:265:14)\n    at router.handle (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\express\\lib\\router\\index.js:47:12)","statusCode":404,"timestamp":"2025-11-23T15:43:28.148Z","url":"/api/auth"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:44:13.837Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T15:44:40.699Z"}
{"level":"debug","message":"Database health check passed","now":"2025-11-23T15:44:40.700Z","timestamp":"2025-11-23T15:44:40.701Z","version":"PostgreSQL 18.0 on x86_64-windows, compiled by msvc-19.44.35217, 64-bit"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:45:36.142Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:49:13.854Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:50:36.147Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:54:13.868Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:55:36.160Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T15:59:13.878Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T16:00:36.176Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T16:04:13.879Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T16:05:36.193Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T16:09:13.886Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T16:10:36.206Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T16:11:21.736Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T16:11:21.738Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T16:11:24.869Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T16:11:24.870Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T16:11:25.569Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T16:11:25.571Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T16:16:25.348Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T16:20:27.652Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T16:20:27.654Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T16:21:06.468Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T16:21:06.470Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T16:21:07.616Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T16:21:07.618Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T16:26:07.364Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T16:31:07.377Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T17:16:09.162Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T17:16:09.163Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T17:19:52.247Z"}
{"error":"relation \"users\" does not exist","level":"error","message":"Database query error:","text":"SELECT \n        u.id, \n        u.email, \n        u.phone,\n        u.password_hash,\n        u.first_name, \n        u.last_name, \n        u.role, \n        u.facility_id,\n        u.supervisor_id,\n        u.is_active,\n        f.name as facility_name,\n        f.code as facility_code,\n        c.name as council_name,\n        c.id as council_id,\n        r.name as region_name,\n        r.id as region_id\n      FROM users u\n      LEFT JOIN facilities f ON u.facility_id = f.id\n      LEFT JOIN councils c ON f.council_id = c.id\n      LEFT JOIN regions r ON c.region_id = r.id\n      WHERE u.email = $1","timestamp":"2025-11-23T17:19:52.252Z"}
{"code":"42P01","file":"parse_relation.c","length":105,"level":"error","line":"1469","message":"Login failed: relation \"users\" does not exist","name":"error","position":"409","routine":"parserOpenTable","severity":"ERROR","stack":"error: relation \"users\" does not exist\n    at C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\config\\database.js:78:20)\n    at async Object.login (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\modules\\auth\\auth.service.js:181:20)\n    at async C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\modules\\auth\\auth.controller.js:41:18","timestamp":"2025-11-23T17:19:52.253Z"}
{"code":"42P01","level":"error","message":"Error occurred: relation \"users\" does not exist","method":"POST","stack":"error: relation \"users\" does not exist\n    at C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\config\\database.js:78:20)\n    at async Object.login (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\modules\\auth\\auth.service.js:181:20)\n    at async C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\modules\\auth\\auth.controller.js:41:18","statusCode":500,"timestamp":"2025-11-23T17:19:52.254Z","url":"/api/auth/login"}
{"level":"debug","message":"Client removed from pool","timestamp":"2025-11-23T17:19:52.258Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-23T17:21:01.687Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T17:21:01.688Z"}
{"level":"debug","message":"Database health check passed","now":"2025-11-23T17:21:01.689Z","timestamp":"2025-11-23T17:21:01.690Z","version":"PostgreSQL 18.0 on x86_64-windows, compiled by msvc-19.44.35217, 64-bit"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-23T17:21:02.234Z"}
{"error":"relation \"users\" does not exist","level":"error","message":"Database query error:","text":"SELECT \n        u.id, \n        u.email, \n        u.phone,\n        u.password_hash,\n        u.first_name, \n        u.last_name, \n        u.role, \n        u.facility_id,\n        u.supervisor_id,\n        u.is_active,\n        f.name as facility_name,\n        f.code as facility_code,\n        c.name as council_name,\n        c.id as council_id,\n        r.name as region_name,\n        r.id as region_id\n      FROM users u\n      LEFT JOIN facilities f ON u.facility_id = f.id\n      LEFT JOIN councils c ON f.council_id = c.id\n      LEFT JOIN regions r ON c.region_id = r.id\n      WHERE u.email = $1","timestamp":"2025-11-23T17:21:02.236Z"}
{"code":"42P01","file":"parse_relation.c","length":105,"level":"error","line":"1469","message":"Login failed: relation \"users\" does not exist","name":"error","position":"409","routine":"parserOpenTable","severity":"ERROR","stack":"error: relation \"users\" does not exist\n    at C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\config\\database.js:78:20)\n    at async Object.login (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\modules\\auth\\auth.service.js:181:20)\n    at async C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\modules\\auth\\auth.controller.js:41:18","timestamp":"2025-11-23T17:21:02.237Z"}
{"code":"42P01","level":"error","message":"Error occurred: relation \"users\" does not exist","method":"POST","stack":"error: relation \"users\" does not exist\n    at C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\config\\database.js:78:20)\n    at async Object.login (C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\modules\\auth\\auth.service.js:181:20)\n    at async C:\\Users\\fiona\\Desktop\\Onsite_Woti\\woti_attendance_v2\\src\\modules\\auth\\auth.controller.js:41:18","statusCode":500,"timestamp":"2025-11-23T17:21:02.237Z","url":"/api/auth/login"}
{"level":"debug","message":"Client removed from pool","timestamp":"2025-11-23T17:21:02.241Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":1,"timestamp":"2025-11-23T17:21:08.903Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T17:26:08.906Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T17:51:19.763Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T17:56:19.747Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T18:01:19.761Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T18:06:30.164Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T18:11:30.135Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T18:16:30.139Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T18:21:30.144Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T18:26:30.149Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T18:34:08.031Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T18:39:07.993Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T18:44:08.002Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T18:49:08.018Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T18:54:08.024Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T18:59:08.037Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T19:04:08.039Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-23T19:09:08.048Z"}
{"level":"debug","message":"New database client connected","timestamp":"2025-11-24T07:15:55.620Z"}
{"level":"debug","message":"Client acquired from pool","timestamp":"2025-11-24T07:15:55.622Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-24T07:20:55.344Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-24T07:25:55.354Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-24T07:30:55.359Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-24T07:35:55.358Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-24T07:43:10.929Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-24T07:48:10.909Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-24T07:53:10.911Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-24T07:58:10.913Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-24T08:03:10.924Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-24T08:08:10.926Z"}
{"blocked":0,"level":"debug","message":"Rate limiter store cleaned up","requests":0,"timestamp":"2025-11-24T08:13:10.941Z"}
